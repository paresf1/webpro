<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href="../css/public.css">
<script>
	function proc1(){
		
		regno = prompt("주민번호를 입력해주세요");
		now1 = new Date();
		
		year1 = regno.substring(0,2);
		month1 = regno.substring(2,4);
		date1 = regno.substring(4,6);
		
		gend = regno.substring(7,8);
		
		if(gend == 1 || gend == 2) year1 = 19 + year1;
		else if(gend == 3 || gend == 4) year1 = 20 + year1; 
		
		if(gend == 1 || gend == 3) gend = "남자";
		else if(gend == 2 || gend == 4) gend = "여자";
		
		birth1 = new Date(year1,month1,date1);
		birth2 = now1.getTime() - birth1.getTime();
		
		birth3 = Math.floor(birth2/1000/60/60/24/365);
		
		//나이 구하기
		// 현재년도 - 태어난 연도 +1
		//if(gend == 1 || gend == 2) yy = 19 + year1;
		//else if(gend == 3 || gend == 4) yy = 20 + year1; 
		// now = new Date();
		// age = now.getFullYear() + paresInt(yy) + 1;
		
		res = "생일 : " + year1 + "년" + month1 + "월" + date1 + "일" + "<br>";
		res += "성별 : " + gend + "  나이 : " + birth3 + "<br>";
		
		document.querySelector('#result1').innerHTML = res;
		
	}
	//951111-1568218
	/*function proc2(){
		regno = prompt("주민번호를 입력해주세요");
		res = "";
		
		a = regno.substr(0,1);
		b = regno.substr(1,1);
		c = regno.substr(2,1);
		d = regno.substr(3,1);
		e = regno.substr(4,1);
		f = regno.substr(5,1);
		
		g = regno.substr(7,1);
		h = regno.substr(8,1);
		i = regno.substr(9,1);
		j = regno.substr(10,1);
		k = regno.substr(11,1);
		l = regno.substr(12,1);
		m = regno.substr(13,1);
		
		result = a*2 + b*3 + c*4 + d*5 + e*6 + f*7 + g*8 + h*9 + i*2 + j*3 + k*4 + l*5;
		result = result%11 ;
		result = 11-result ; 
		if(0 <= result <= 9 );
			
		else if(result == 10){
			result = 0
		}
		else if(result == 11){
			result = 1;
		}
		
		if(result == m ){
			res = "맞는 번호입니다."
		} 
		
		if(result != m ){
			res = "틀린 번호입니다."
		} 
		
		document.querySelector("#result2").innerHTML = res;*/
		
		function proc2(){
			str = "234567892345"
			code = prompt("주민번호 입력", "141414-1234567")
			codearr =code.split("-")	//배열로 리턴
			
			code = codearr[0].concat(codearr[1]) ; // 배열 : 1414141234567
			console.log("code = " + code);
			console.log("code.length = " + code.length);
			
			sum = 0;
			
			for(i=0 ; i < code.length-1 ; i++){
				sum += code[i] * str.substr(i,1)
			}
			
			value = 11- (sum % 11);
			// value = value % 10;
			
			//if(value == 10) value = 0;
			//else if(value == 11) value = 1;
			
			res = "입력 : " + codearr[0] + "<br>"
			if(value == code[code.length-1]){
				res = "올바른 번호 ";
			}else{
				res += "누구세요?"
			}
			
			document.querySelector("#result2").innerHTML = res;
		}
</script>
</head>
<body>
<div class = "box">
	<h3>1번 문제</h3>
	<br>
	<input type = "button" value = "substring" onclick = "proc1()">
	<br><br>
	<div id = "result1"></div>
</div>
<div class = "box">
	<h3>2번 문제</h3>
	<br>
	<input type = "button" value = "확인" onclick = "proc2()">
	<br><br>
	<div id = "result2"></div>
</div>
</body>
</html>