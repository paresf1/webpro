<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href="../css/public.css">
<style>
		
	table{
		border : 1px solid white;
	}
	
	td{
		width : 200px;
		height : 40px;
		text-align: center;
	}
	#row2{
		border : none;
		
	}
	 
	select{
		width : 100%;
		hegith : 100%;
		margin: 5px;
	}
</style>

<script>
window.onload = function(){
	
	form = document.selform
	
	form.data.focus();
}

	function add(){
		//입력한 값 가져오기
		datavalue = form.data.value;
		
		if(datavalue.trim().length > 0){
		opt = document.createElement('option');
		opt.value = datavalue;
		opt.text = datavalue;
			
		}
		
		
		// option 태그 만들기 <option value = "sdf"> sdf </option>
		// value와 text 속성 설정
		
		//left에 추가
		form.left.appendChild(opt);
		form.data.value = "";
		form.data.focus(); //포커스를 계속 만들어준다.
	}
	
function toRight(){	// 오른쪽으로 보내기
	// 왼쪽에서 한개를 선택 
	idx = form.left.selectedIndex;
	console.log("idx = " + idx);
	
	//선택한 항목이 없으면 메세지창 띄우기 
	if(idx < 0){
		alert("항목을 선택하세요");
		return;
	}
	// 왼쪽의 option에서 선택한 번째의 값을 가져온다
	lvalue = form.left.options[idx].value;
	
	// option 태그를 생성
	opt = document.createElement('option');
	
	// value, text를 설정
	opt.value = lvalue;
	opt.text = lvalue;
	// 오른쪽에 option태그를 추가 
	form.right.appendChild(opt);
	
	// 왼쪽에서는 삭제 - 왼쪽에서 선택한 옵션의 번째  
	form.left.removeChild(form.left.options[idx]);	
	
}


function rightAll(){
	
	// 왼쪽의 option의 개수를 얻어온다.
	len = form.left.length;
	
	//개수만큼 반복한다.{
		for(i=0; i<len; i++){
		
		lvalue = form.left.options[i].value;
		
		//왼쪽에서 차례대로 i번쨰의 값을 가져온다.
		opt = document.createElement('option');
	
	
		//option생성
		opt.value = lvalue;
		opt.text = lvalue;
		
		// text와 value를 설정
	
		// 오른쪽 select에 추가한다
		form.right.appendChild(opt);
	}
	
	// 개수만큼 지우기를 반복
	for(i=0; i<len; i++){
		form.left.removeChild(form.left.options[0])
	}
}
function toLeft(){
	idx = form.right.selectedIndex;
	console.log("idx = " + idx);
	
	//선택한 항목이 없으면 메세지창 띄우기 
	if(idx < 0){
		alert("항목을 선택하세요");
		return;
	}
	// 왼쪽의 option에서 선택한 번째의 값을 가져온다
	lvalue = form.right.options[idx].value;
	
	// option 태그를 생성
	opt = document.createElement('option');
	
	// value, text를 설정
	opt.value = lvalue;
	opt.text = lvalue;
	// 오른쪽에 option태그를 추가 
	form.left.appendChild(opt);
	
	// 왼쪽에서는 삭제 - 왼쪽에서 선택한 옵션의 번째  
	form.right.removeChild(form.right.options[idx]);	
	
}

function leftAll(){
len = form.left.length;
	
	//개수만큼 반복한다.{
		for(i=0; i<len; i++){
		
		lvalue = form.right.options[i].value;
		
		//왼쪽에서 차례대로 i번쨰의 값을 가져온다.
		opt = document.createElement('option');
	
	
		//option생성
		opt.value = lvalue;
		opt.text = lvalue;
		
		// text와 value를 설정
	
		// 오른쪽 select에 추가한다
		form.left.appendChild(opt);
	}
	
	// 개수만큼 지우기를 반복
	for(i=0; i<len; i++){
		form.right.removeChild(form.right.options[0])
	}
	

}

</script>
</head>
<body>
<div class = "box">
	<h3>1. form 연습 3 </h3>
	<form name = "selform">
	<table border="1">
		<tr>
			<td colspan="3"><h1>Select 객체 예제</h1></td>
		</tr>
		
		<tr id = "row2">
			<td>
				<select name = "left" multiple="multiple" size = "8">
				</select>
			</td>
			
			<td>
				<input type = "button" value = ">" onclick = "toRight()"><br>
				<input type = "button" value = ">>" onclick  = "rightAll()"><br>
				<input type = "button" value = "<" onclick = "toLeft()"><br>
				<input type = "button" value = "<<" onclick = "leftAll()"><br>
			</td>
			
			<td> 
			<select name = "right" multiple="multiple" size = "8">
			</select>
			</td>
		</tr>
		
		<tr>
			<td colspan="3">
				<input type = "text" name = "data">
				<input onclick="add()" type = "button" value = "추가하기">
			</td>
			
		</tr>
	</table>
	</form>
</div>
</body>
</html>